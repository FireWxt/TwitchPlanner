<div class="page">

  <!-- Header -->
  <div class="header" *ngIf="planning">
    <div class="title">
      <div class="h1">Planning de stream</div>
      <div class="range">{{ planning.start_date }} <span *ngIf="planning.end_date">â†’ {{ planning.end_date }}</span></div>
    </div>

    <div class="profile">
      <div class="logo">Logo</div>
      <div class="avatar">ğŸ‘¤</div>
    </div>
  </div>

  <!-- Si pas de planning -->
  <div *ngIf="!planning && !loading" class="empty">
    <h2>CrÃ©e ton planning</h2>
    <!-- ton form createPlanning ici -->
  </div>

  <!-- Grille semaine -->
  <div *ngIf="planning" class="week">
    <div class="dayCol" *ngFor="let d of days">
      <div class="dayHeader">{{ d.label }}</div>

      <button class="addBtn" (click)="openAddEvent(d.key)">+</button>

      <div class="eventCard" *ngFor="let ev of eventsByDay[d.key]">
        <div class="time">{{ ev.start_time }}</div>
        <div class="name">{{ ev.stream_title }}</div>

        <button class="trash" (click)="deleteEvenement(ev.Id_Evenement || ev.id)">ğŸ—‘</button>
      </div>
    </div>
  </div>

  <!-- Form event (modal simple) -->
  <div class="modalBackdrop" *ngIf="showEventForm">
    <div class="modal">
      <h3>Ajouter un Ã©vÃ©nement ({{ eventForm.day_of_week }})</h3>

      <label>Titre</label>
      <input [(ngModel)]="eventForm.stream_title" />

      <label>Heure dÃ©but</label>
      <input type="time" [(ngModel)]="eventForm.start_time" />

      <label>Heure fin</label>
      <input type="time" [(ngModel)]="eventForm.end_time" />

      <div class="actions">
        <button (click)="addEvenement()">Ajouter</button>
        <button (click)="closeAddEvent()">Annuler</button>
      </div>
    </div>
  </div>

</div>
